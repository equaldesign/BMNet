<cfcomponent output="false">	<cffunction cache="true" name="index" returntype="void" output="false">		<cfargument name="event" required="true">		<cfset var rc = event.getCollection()>    <cfset rc.mediafile = ReplaceNoCase(MID(arguments.event.getCurrentRoutedURL(),1,Len(arguments.event.getCurrentRoutedURL())-1),"/media","/")>    <cfhttp redirect="true" username="admin" password="bugg3rm33" getasbinary="auto" url="http://www.buildingvine.com/alfresco/service/bmnet/media?siteID=#rc.siteID#&path=#rc.mediafile#" result="mediaFile"></cfhttp>    <cffile action="write" output="#mediaFile.fileContent#" file="/tmp/#ListLast(rc.mediafile,'/')#">    <cfswitch expression="#getextension(ListLast(rc.mediafile,'/'))#">      <cfcase value="gif,png,jpeg,jpg">        <cfcontent file="/tmp/#ListLast(rc.mediafile,'/')#" type="#getPageContext().getServletContext().getMimeType('/tmp/#ListLast(rc.mediafile,"/")#')#" deletefile="true">       </cfcase>       <cfdefaultcase>         <cfcontent file="/tmp/#ListLast(rc.mediafile,'/')#" type="#getPageContext().getServletContext().getMimeType('/tmp/#ListLast(rc.mediafile,"/")#')#" deletefile="true">       </cfdefaultcase>    </cfswitch>	</cffunction></cfcomponent>